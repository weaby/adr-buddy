{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#adr-buddy","title":"ADR Buddy","text":"<p>AI builds fast. Documentation doesn't keep up.</p> <p>Code is being written faster than ever with AI assistants\u2014but architectural decisions are getting lost in the velocity. Six months from now, no one remembers why that database was chosen or why that retry logic exists.</p> <p>ADR Buddy captures decisions inline in your code using simple annotations. And with Claude Code integration, it happens automatically as you build.</p>"},{"location":"#how-it-works","title":"How It Works","text":"<ol> <li>Annotate \u2014 Add <code>@decision</code> comments where decisions are implemented</li> <li>Sync \u2014 Run <code>adr-buddy sync</code> to generate markdown ADRs</li> <li>Automate \u2014 Use GitHub Actions to validate and keep docs in sync</li> </ol>"},{"location":"#features","title":"Features","text":"<ul> <li>Inline annotations \u2014 Decisions live in your code, not forgotten files</li> <li>Auto-generated docs \u2014 Markdown ADRs generated from annotations</li> <li>Claude Code skills \u2014 AI documents decisions as it codes</li> <li>GitHub Actions \u2014 Validate on PRs, auto-sync on merge</li> <li>Language-agnostic \u2014 Go, TypeScript, Python, Rust, Ruby, and more</li> <li>Zero config \u2014 Start immediately, customize later</li> </ul>"},{"location":"#quick-links","title":"Quick Links","text":"<ul> <li>Getting Started \u2014 Install and create your first ADR</li> <li>Annotation Reference \u2014 All available fields and syntax</li> <li>Configuration \u2014 Customize paths, templates, and behavior</li> <li>Claude Code Integration \u2014 AI-powered documentation</li> <li>Commands \u2014 CLI reference</li> <li>GitHub Actions \u2014 CI/CD integration</li> </ul>"},{"location":"annotations/","title":"Annotation Reference","text":"<p>ADR Buddy scans your code for <code>@decision.*</code> annotations in comments and generates markdown ADRs.</p>"},{"location":"annotations/#comment-syntax","title":"Comment Syntax","text":"<p>Use your language's comment style:</p> Languages Syntax Go, JavaScript, TypeScript, Java, C, Rust <code>//</code> Python, Ruby, YAML, Shell <code>#</code>"},{"location":"annotations/#required-fields","title":"Required Fields","text":"<p>Every annotation must have these fields:</p> Field Description <code>@decision.id</code> Unique identifier (e.g., <code>adr-001</code>) <code>@decision.name</code> Short title (under 60 characters) <pre><code>// @decision.id: adr-001\n// @decision.name: PostgreSQL for primary datastore\n</code></pre>"},{"location":"annotations/#recommended-fields","title":"Recommended Fields","text":"<p>These fields make ADRs useful:</p> Field Description <code>@decision.context</code> Why was this decision needed? What problem does it solve? <code>@decision.decision</code> What was decided? Include key details. <code>@decision.alternatives</code> What other options were considered and why rejected? <code>@decision.consequences</code> What are the trade-offs? What becomes easier/harder?"},{"location":"annotations/#optional-fields","title":"Optional Fields","text":"Field Description Default <code>@decision.status</code> <code>proposed</code>, <code>accepted</code>, <code>rejected</code>, <code>deprecated</code>, <code>superseded</code> <code>proposed</code> <code>@decision.category</code> Organizational category (creates subdirectory) none <code>@decision.refs</code> Related files affected by this decision none <code>@decision.supersedes</code> ID of decision this replaces none"},{"location":"annotations/#multi-line-values","title":"Multi-line Values","text":"<p>Continue on the next line with indentation:</p> <pre><code>// @decision.context: We needed a message queue that supports\n//   replay capability for debugging payment failures and allows\n//   multiple consumers to receive the same events.\n</code></pre> <p>The indented lines are joined to the first line.</p>"},{"location":"annotations/#listing-items","title":"Listing Items","text":"<p>Use indented list syntax for alternatives and refs:</p> <pre><code>// @decision.alternatives:\n//   - SQS: Simpler but no replay capability\n//   - RabbitMQ: Good but team lacks expertise\n//   - Redis Streams: Insufficient durability for payments\n</code></pre> <pre><code>// @decision.refs:\n//   - internal/payments/publisher.go\n//   - internal/payments/consumer.go\n//   - config/kafka.yaml\n</code></pre>"},{"location":"annotations/#complete-example","title":"Complete Example","text":"<pre><code>// @decision.id: adr-003\n// @decision.name: Kafka for payment events\n// @decision.status: accepted\n// @decision.category: infrastructure\n// @decision.context: We need to publish payment events to multiple\n//   consumers (analytics, fraud detection, notifications). Events\n//   must be replayable for debugging failed payments.\n// @decision.decision: Use Apache Kafka over SQS or RabbitMQ.\n//   Configure with 3 partitions and 7-day retention.\n// @decision.alternatives:\n//   - SQS: Simpler, but no replay and complex multi-consumer setup\n//   - RabbitMQ: Good features but team lacks expertise\n//   - Redis Streams: Insufficient durability guarantees for payments\n// @decision.consequences: Requires Kafka expertise on team. Adds\n//   operational complexity. Enables event replay and multi-consumer\n//   patterns. 7-day retention allows debugging historical issues.\n// @decision.refs:\n//   - internal/payments/event_publisher.go\n//   - internal/payments/event_consumer.go\n//   - deployments/kafka.yaml\n\nfunc NewPaymentEventPublisher(kafka *kafka.Producer) *PaymentEventPublisher {\n</code></pre>"},{"location":"annotations/#one-adr-multiple-locations","title":"One ADR, Multiple Locations","text":"<p>The same ADR ID can appear in multiple files. ADR Buddy merges them:</p> <p><code>src/cache/client.go</code>: <pre><code>// @decision.id: adr-005\n// @decision.name: Redis for caching\n// @decision.context: Need distributed cache for API responses.\n</code></pre></p> <p><code>src/cache/config.go</code>: <pre><code>// @decision.id: adr-005\n// @decision.name: Redis for caching\n// @decision.decision: Use Redis with 1-hour TTL for API responses.\n</code></pre></p> <p>Both locations appear in the generated <code>adr-005.md</code> under \"Code Locations\".</p>"},{"location":"annotations/#multiple-adrs-in-one-file","title":"Multiple ADRs in One File","text":"<p>A single file can contain multiple decision annotations:</p> <pre><code># @decision.id: adr-010\n# @decision.name: FastAPI for web framework\n# ...\n\n# @decision.id: adr-011\n# @decision.name: Pydantic for validation\n# ...\n</code></pre> <p>Each generates its own ADR file.</p>"},{"location":"annotations/#categories","title":"Categories","text":"<p>Use <code>@decision.category</code> to organize ADRs into subdirectories:</p> <pre><code>// @decision.id: adr-001\n// @decision.category: infrastructure\n</code></pre> <p>Output: <code>decisions/infrastructure/adr-001.md</code></p> <p>Without a category, ADRs are placed in the root output directory.</p>"},{"location":"claude-code/","title":"Claude Code Integration","text":"<p>ADR Buddy includes two Claude Code skills that make documentation effortless.</p>"},{"location":"claude-code/#installation","title":"Installation","text":"<p>Skills are installed during <code>adr-buddy init</code>:</p> <pre><code>Would you like to install the Claude Code skill?\n  [1] Project-level (.claude/skills/adr.md) - for this project only\n  [2] User-level (~/.claude/skills/adr.md) - available in all projects\n  [3] Skip - don't install the skill\n</code></pre> <p>Or use the flag:</p> <pre><code>adr-buddy init --claude-skill=project  # This project only\nadr-buddy init --claude-skill=user     # All projects\nadr-buddy init --claude-skill=skip     # Don't install\n</code></pre> <p>Installed skills:</p> Location Files Project-level <code>.claude/skills/adr.md</code>, <code>.claude/skills/adr-review.md</code> User-level <code>~/.claude/skills/adr.md</code>, <code>~/.claude/skills/adr-review.md</code>"},{"location":"claude-code/#adr-document-as-you-code","title":"/adr \u2014 Document as You Code","text":"<p>This skill teaches Claude to automatically document architectural decisions while coding.</p>"},{"location":"claude-code/#when-it-activates","title":"When It Activates","text":"<p>Claude uses this skill when you:</p> <ul> <li>Choose a technology (database, framework, library)</li> <li>Implement a pattern (retry logic, caching, error handling)</li> <li>Make a trade-off (performance vs simplicity)</li> <li>Configure non-obvious values (timeouts, limits, thresholds)</li> <li>Structure code significantly (module boundaries, API design)</li> </ul>"},{"location":"claude-code/#how-it-works","title":"How It Works","text":"<p>When Claude makes an architectural decision, it will:</p> <ol> <li>Pause and acknowledge the decision</li> <li>State alternatives considered</li> <li>Add the annotation to the code</li> <li>List affected files</li> </ol>"},{"location":"claude-code/#example","title":"Example","text":"<p>You: \"Add a caching layer for user profiles\"</p> <p>Claude:</p> <p>I'll add a caching layer for user profiles. This is an architectural decision, so let me document it.</p> <p>Options I'm considering: - Redis: Persistent, supports TTL, good for sessions too - Memcached: Simpler, but no persistence - In-memory: Fast but doesn't share across instances</p> <p>I'll go with Redis because we need cache sharing across API instances.</p> <p>Claude then adds the annotation:</p> <pre><code>// @decision.id: adr-004\n// @decision.name: Redis for user profile caching\n// @decision.status: accepted\n// @decision.context: Need distributed caching for user profiles\n//   to reduce database load across multiple API instances.\n// @decision.decision: Use Redis with 15-minute TTL for user profiles.\n// @decision.alternatives:\n//   - Memcached: Simpler but no persistence if restart needed\n//   - In-memory: Fast but doesn't share across instances\n// @decision.consequences: Adds Redis dependency. Enables cache\n//   sharing across instances. May use for sessions later.\n\nfunc NewUserCache(redis *redis.Client) *UserCache {\n</code></pre>"},{"location":"claude-code/#trigger-keywords","title":"Trigger Keywords","text":"<p>The skill also activates when you say:</p> <ul> <li>\"document this decision\"</li> <li>\"create an ADR\"</li> <li>\"architectural decision\"</li> <li>\"why did we choose\"</li> <li>\"record this choice\"</li> </ul>"},{"location":"claude-code/#adr-review-discover-undocumented-decisions","title":"/adr-review \u2014 Discover Undocumented Decisions","text":"<p>This skill scans your codebase for decisions that were never documented.</p>"},{"location":"claude-code/#when-to-use","title":"When to Use","text":"<ul> <li>Starting a new project and want to establish ADR discipline</li> <li>Joining an existing project and want to understand its architecture</li> <li>Periodic \"ADR health check\" to catch undocumented decisions</li> <li>Before major refactoring to understand current state</li> </ul>"},{"location":"claude-code/#how-it-works_1","title":"How It Works","text":"<ol> <li>Choose depth \u2014 How thoroughly to analyze</li> </ol> Level What It Discovers 1 - Dependencies Package manifests + config files 2 - Structure Level 1 + architectural patterns from folder organization 3 - Patterns Level 2 + design patterns visible in code <ol> <li> <p>Scan \u2014 Analyzes files based on selected depth</p> </li> <li> <p>Present findings \u2014 Shows categorized summary:</p> </li> </ol> <pre><code>Found 12 undocumented architectural decisions at depth level 2:\n\nDependencies (7)\n - pino (logging)\n - postgresql (database)\n - redis (caching)\n - express (web framework)\n - ...\n\nStructural Patterns (3)\n - Layered architecture (/controllers, /services, /repositories)\n - Centralized error handling (/middleware/errors)\n - Feature-based modules (/features/auth, /features/billing)\n\nAlready documented: 3 decisions (ADR-001, ADR-002, ADR-003)\n</code></pre> <ol> <li> <p>Select \u2014 You choose which to document (\"all\", specific numbers, or categories)</p> </li> <li> <p>Research \u2014 Claude researches alternatives for each technology</p> </li> <li> <p>Guided conversation \u2014 For each decision:</p> </li> <li>Why did you choose this?</li> <li>What constraints influenced it?</li> <li> <p>Any trade-offs you're aware of?</p> </li> <li> <p>Annotate \u2014 Claude adds annotations to your code</p> </li> <li> <p>Sync \u2014 Runs <code>adr-buddy sync</code> to generate ADR files</p> </li> </ol>"},{"location":"claude-code/#example-session","title":"Example Session","text":"<p>You: <code>/adr-review</code></p> <p>Claude: \"How deep should I analyze? (1) Dependencies only, (2) + Structure, (3) Full analysis\"</p> <p>You: \"2\"</p> <p>Claude: scans and presents findings</p> <p>You: \"Document postgresql and the layered architecture\"</p> <p>Claude:</p> <p>Let's document PostgreSQL first.</p> <p>I've researched alternatives: - MySQL: Widely adopted, simpler replication - SQLite: Embedded, serverless - MongoDB: Document model, flexible schema</p> <p>Why did you choose PostgreSQL for this project?</p> <p>You: \"Team expertise and we needed JSONB support for flexible metadata\"</p> <p>Claude: continues conversation, then adds annotation</p>"},{"location":"claude-code/#best-practices","title":"Best Practices","text":""},{"location":"claude-code/#let-claude-document-proactively","title":"Let Claude Document Proactively","text":"<p>Don't wait to be asked. The <code>/adr</code> skill is designed to document decisions as they happen. If Claude isn't documenting automatically, remind it:</p> <p>\"Remember to document architectural decisions as you make them\"</p>"},{"location":"claude-code/#review-generated-adrs","title":"Review Generated ADRs","text":"<p>Claude's annotations are a starting point. Review and refine:</p> <ul> <li>Add context Claude might have missed</li> <li>Clarify trade-offs specific to your situation</li> <li>Link related decisions</li> </ul>"},{"location":"claude-code/#run-adr-review-periodically","title":"Run /adr-review Periodically","text":"<p>Set a reminder to run <code>/adr-review</code> monthly or before major releases. It catches decisions that slipped through.</p>"},{"location":"claude-code/#commit-skills-to-repository","title":"Commit Skills to Repository","text":"<p>If using project-level installation, commit <code>.claude/skills/</code> so team members get the skills automatically.</p>"},{"location":"commands/","title":"Commands","text":"<p>Complete reference for all ADR Buddy CLI commands.</p>"},{"location":"commands/#adr-buddy-init","title":"adr-buddy init","text":"<p>Initialize ADR Buddy in the current directory.</p> <pre><code>adr-buddy init [flags]\n</code></pre> <p>What it creates:</p> <pre><code>.adr-buddy/\n\u251c\u2500\u2500 config.yml    # Configuration options\n\u2514\u2500\u2500 template.md   # ADR template (customizable)\n</code></pre> <p>Flags:</p> Flag Values Description <code>--claude-skill</code> <code>project</code>, <code>user</code>, <code>skip</code> Install Claude Code skills <p>Examples:</p> <pre><code># Interactive mode (prompts for skill installation)\nadr-buddy init\n\n# Install skills for this project only\nadr-buddy init --claude-skill=project\n\n# Install skills globally\nadr-buddy init --claude-skill=user\n\n# Skip skill installation\nadr-buddy init --claude-skill=skip\n</code></pre> <p>Notes:</p> <ul> <li>Safe to run multiple times \u2014 won't overwrite existing files</li> <li>Creates <code>decisions/</code> directory on first sync, not during init</li> </ul>"},{"location":"commands/#adr-buddy-sync","title":"adr-buddy sync","text":"<p>Scan code for annotations and generate/update ADR files.</p> <pre><code>adr-buddy sync [flags]\n</code></pre> <p>Flags:</p> Flag Default Description <code>--dry-run</code> <code>false</code> Show what would change without writing files <code>--format</code> <code>text</code> Output format: <code>text</code> or <code>json</code> <code>--watch</code> <code>false</code> Re-run on file changes (not yet implemented) <p>Examples:</p> <pre><code># Generate/update ADR files\nadr-buddy sync\n\n# Preview changes without writing\nadr-buddy sync --dry-run\n\n# JSON output (useful for CI)\nadr-buddy sync --format=json\n</code></pre> <p>Output (text):</p> <pre><code>Scanned 127 files\nFound 5 ADR annotations\nCreated decisions/adr-001.md\nCreated decisions/adr-002.md\nUpdated decisions/adr-003.md\nUnchanged decisions/adr-004.md\nUnchanged decisions/adr-005.md\n</code></pre> <p>Output (json):</p> <pre><code>{\n  \"scanned\": 127,\n  \"found\": 5,\n  \"created\": [\"decisions/adr-001.md\", \"decisions/adr-002.md\"],\n  \"updated\": [\"decisions/adr-003.md\"],\n  \"unchanged\": [\"decisions/adr-004.md\", \"decisions/adr-005.md\"]\n}\n</code></pre>"},{"location":"commands/#adr-buddy-check","title":"adr-buddy check","text":"<p>Validate annotations without generating files.</p> <pre><code>adr-buddy check [flags]\n</code></pre> <p>Flags:</p> Flag Default Description <code>--strict</code> <code>false</code> Treat warnings as errors <code>--format</code> <code>text</code> Output format: <code>text</code> or <code>json</code> <p>Examples:</p> <pre><code># Validate annotations\nadr-buddy check\n\n# Strict mode (useful for CI)\nadr-buddy check --strict\n\n# JSON output\nadr-buddy check --format=json\n</code></pre> <p>Output (text):</p> <pre><code>Scanned 127 files\nFound 5 ADR annotations\n\n\u2713 adr-001: PostgreSQL for primary datastore\n\u2713 adr-002: Redis for caching\n\u26a0 adr-003: Missing @decision.context (warning)\n\u2713 adr-004: Kafka for events\n\u2717 adr-005: Missing required field @decision.name (error)\n\n4 valid, 1 warning, 1 error\n</code></pre> <p>Exit codes:</p> Code Meaning 0 All valid (warnings allowed unless <code>--strict</code>) 1 Errors found"},{"location":"commands/#adr-buddy-list","title":"adr-buddy list","text":"<p>List all discovered ADRs.</p> <pre><code>adr-buddy list [flags]\n</code></pre> <p>Flags:</p> Flag Default Description <code>--category</code> <code>\"\"</code> Filter by category <p>Examples:</p> <pre><code># List all ADRs\nadr-buddy list\n\n# Filter by category\nadr-buddy list --category=infrastructure\n</code></pre> <p>Output:</p> <pre><code>ID        Status    Category        Name\nadr-001   accepted  infrastructure  PostgreSQL for primary datastore\nadr-002   accepted  infrastructure  Redis for caching\nadr-003   accepted  architecture    Layered architecture pattern\nadr-004   proposed  infrastructure  Kafka for events\nadr-005   accepted  security        JWT for authentication\n</code></pre>"},{"location":"commands/#global-behavior","title":"Global Behavior","text":""},{"location":"commands/#configuration-discovery","title":"Configuration Discovery","text":"<p>All commands automatically look for <code>.adr-buddy/config.yml</code> in the current directory. If not found, defaults are used.</p>"},{"location":"commands/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Success 1 Error (validation failure, missing files, etc.)"},{"location":"commands/#json-output","title":"JSON Output","text":"<p>Commands with <code>--format=json</code> are designed for CI/CD integration and scripting. They output structured data to stdout, with errors going to stderr.</p>"},{"location":"configuration/","title":"Configuration","text":"<p>ADR Buddy works with zero configuration, but you can customize everything.</p>"},{"location":"configuration/#configuration-file","title":"Configuration File","text":"<p>After running <code>adr-buddy init</code>, you'll have <code>.adr-buddy/config.yml</code>:</p> <pre><code>scan_paths:\n  - .\noutput_dir: decisions\nexclude:\n  - \"**/node_modules/**\"\n  - \"**/.git/**\"\n  - \"**/vendor/**\"\n  - \"**/build/**\"\n  - \"**/dist/**\"\n  - \"**/.next/**\"\n  - \"**/.adr-buddy/**\"\n  - \"**/.claude/**\"\n  - \"**/.github/**\"\ntemplate: \"\"\nstrict_mode: false\n</code></pre>"},{"location":"configuration/#options","title":"Options","text":""},{"location":"configuration/#scan_paths","title":"scan_paths","text":"<p>Directories to scan for annotations. Paths are relative to project root.</p> <pre><code>scan_paths:\n  - ./src\n  - ./lib\n  - ./internal\n</code></pre> <p>Default: <code>[\".\"]</code> (entire project)</p>"},{"location":"configuration/#output_dir","title":"output_dir","text":"<p>Where to generate ADR markdown files.</p> <pre><code>output_dir: ./docs/decisions\n</code></pre> <p>Default: <code>decisions</code></p>"},{"location":"configuration/#exclude","title":"exclude","text":"<p>Glob patterns for files/directories to skip.</p> <pre><code>exclude:\n  - \"**/node_modules/**\"\n  - \"**/vendor/**\"\n  - \"**/*.test.go\"\n  - \"**/testdata/**\"\n</code></pre> <p>Default: Common build/dependency directories</p>"},{"location":"configuration/#template","title":"template","text":"<p>Path to a custom ADR template file.</p> <pre><code>template: .adr-buddy/template.md\n</code></pre> <p>Default: <code>\"\"</code> (uses built-in template)</p>"},{"location":"configuration/#strict_mode","title":"strict_mode","text":"<p>Treat warnings as errors during validation.</p> <pre><code>strict_mode: true\n</code></pre> <p>Default: <code>false</code></p>"},{"location":"configuration/#custom-templates","title":"Custom Templates","text":"<p>ADR Buddy uses Go's <code>text/template</code> syntax. You can customize how ADRs are rendered.</p>"},{"location":"configuration/#default-template","title":"Default Template","text":"<p>The built-in template (created at <code>.adr-buddy/template.md</code> during init):</p> <pre><code># {{.ID}}: {{.Name}}\n\n**Status:** {{.Status}}\n**Date:** {{.Date}}\n{{if .Category}}**Category:** {{.Category}}{{end}}\n\n## Context\n{{if .Context}}\n{{range .Context}}\n{{.}}\n\n{{end}}\n{{else}}\n&lt;!-- TODO: Add context - what is the issue we're facing? --&gt;\n{{end}}\n\n## Decision\n{{if .Decision}}\n{{range .Decision}}\n{{.}}\n\n{{end}}\n{{else}}\n&lt;!-- TODO: Document the decision and rationale --&gt;\n{{end}}\n\n## Alternatives Considered\n{{if .Alternatives}}\n{{range .Alternatives}}\n{{.}}\n\n{{end}}\n{{else}}\n&lt;!-- TODO: What alternatives were considered and why were they rejected? --&gt;\n{{end}}\n\n## Consequences\n{{if .Consequences}}\n{{range .Consequences}}\n{{.}}\n\n{{end}}\n{{else}}\n&lt;!-- TODO: What are the positive/negative outcomes? --&gt;\n{{end}}\n\n## Code Locations\n{{range .Locations}}\n- {{.File}}:{{.Line}}\n{{end}}\n</code></pre>"},{"location":"configuration/#available-variables","title":"Available Variables","text":"Variable Type Description <code>{{.ID}}</code> string Decision ID (e.g., <code>adr-001</code>) <code>{{.Name}}</code> string Decision title <code>{{.Status}}</code> string Status (proposed, accepted, etc.) <code>{{.Date}}</code> string Date ADR was created <code>{{.Category}}</code> string Category (may be empty) <code>{{.Context}}</code> []string Context paragraphs <code>{{.Decision}}</code> []string Decision paragraphs <code>{{.Alternatives}}</code> []string Alternatives considered <code>{{.Consequences}}</code> []string Consequences/trade-offs <code>{{.Locations}}</code> []Location Code locations <p>Each location has:</p> <ul> <li><code>{{.File}}</code> \u2014 File path</li> <li><code>{{.Line}}</code> \u2014 Line number</li> </ul>"},{"location":"configuration/#template-examples","title":"Template Examples","text":"<p>Minimal template:</p> <pre><code># {{.ID}}: {{.Name}}\n\n{{range .Context}}{{.}}{{end}}\n\n**Decision:** {{range .Decision}}{{.}}{{end}}\n\n---\nFound in: {{range .Locations}}{{.File}}:{{.Line}} {{end}}\n</code></pre> <p>With conditional sections:</p> <pre><code># {{.ID}}: {{.Name}}\n\n**Status:** {{.Status}} | **Date:** {{.Date}}\n\n## Context\n{{range .Context}}{{.}}\n{{end}}\n\n## Decision\n{{range .Decision}}{{.}}\n{{end}}\n\n{{if .Alternatives}}\n## Alternatives Considered\n{{range .Alternatives}}{{.}}\n{{end}}\n{{end}}\n\n{{if .Consequences}}\n## Consequences\n{{range .Consequences}}{{.}}\n{{end}}\n{{end}}\n</code></pre>"},{"location":"configuration/#using-a-custom-template","title":"Using a Custom Template","text":"<ol> <li>Edit <code>.adr-buddy/template.md</code> with your format</li> <li>Reference it in config (optional if using default path):</li> </ol> <pre><code>template: .adr-buddy/template.md\n</code></pre> <ol> <li>Run <code>adr-buddy sync</code> \u2014 new and updated ADRs use your template</li> </ol>"},{"location":"getting-started/","title":"Getting Started","text":"<p>Get ADR Buddy running in under 5 minutes.</p>"},{"location":"getting-started/#installation","title":"Installation","text":"<pre><code>go install github.com/weaby/adr-buddy/cmd/adr-buddy@latest\n</code></pre> <p>Verify the installation:</p> <pre><code>adr-buddy --help\n</code></pre>"},{"location":"getting-started/#initialize-your-project","title":"Initialize Your Project","text":"<p>Run init in your project root:</p> <pre><code>adr-buddy init\n</code></pre> <p>This creates:</p> <pre><code>.adr-buddy/\n\u251c\u2500\u2500 config.yml    # Configuration options\n\u2514\u2500\u2500 template.md   # ADR template (customizable)\n</code></pre> <p>You'll be prompted to install Claude Code skills:</p> <pre><code>Would you like to install the Claude Code skill?\n  [1] Project-level (.claude/skills/adr.md) - for this project only\n  [2] User-level (~/.claude/skills/adr.md) - available in all projects\n  [3] Skip - don't install the skill\n</code></pre> <p>Or skip the prompt with a flag:</p> <pre><code>adr-buddy init --claude-skill=project  # or user, skip\n</code></pre>"},{"location":"getting-started/#add-your-first-decision","title":"Add Your First Decision","text":"<p>Add an annotation where an architectural decision is implemented:</p> <pre><code>// @decision.id: adr-001\n// @decision.name: PostgreSQL for primary datastore\n// @decision.status: accepted\n// @decision.context: Need ACID compliance, strong ecosystem,\n//   and team familiarity for our transactional workload.\n// @decision.decision: Use PostgreSQL over MySQL or MongoDB.\n// @decision.consequences: Proven technology, good tooling.\n//   Team already has expertise.\n\nfunc NewDatabase(connStr string) (*sql.DB, error) {\n</code></pre>"},{"location":"getting-started/#generate-adr-files","title":"Generate ADR Files","text":"<pre><code>adr-buddy sync\n</code></pre> <p>Output:</p> <pre><code>Scanned 42 files\nFound 1 ADR annotation\nCreated decisions/adr-001.md\n</code></pre> <p>Your ADR is now at <code>decisions/adr-001.md</code>.</p>"},{"location":"getting-started/#validate-annotations","title":"Validate Annotations","text":"<p>Check for issues without generating files:</p> <pre><code>adr-buddy check\n</code></pre>"},{"location":"getting-started/#list-all-adrs","title":"List All ADRs","text":"<pre><code>adr-buddy list\n</code></pre>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":"<ul> <li>Annotation Reference \u2014 Learn all available fields</li> <li>Configuration \u2014 Customize output paths and templates</li> <li>Claude Code Integration \u2014 Let AI document decisions for you</li> <li>GitHub Actions \u2014 Automate validation and sync</li> </ul>"},{"location":"github-actions/","title":"GitHub Actions Integration Guide","text":""},{"location":"github-actions/#overview","title":"Overview","text":"<p>ADR Buddy provides two workflows for GitHub Actions: 1. Validation - Runs on PRs to validate annotations 2. Sync - Runs after merge to create ADR update PRs</p>"},{"location":"github-actions/#quick-start","title":"Quick Start","text":""},{"location":"github-actions/#1-add-validation-workflow","title":"1. Add Validation Workflow","text":"<p>Create <code>.github/workflows/adr-validate.yml</code>:</p> <pre><code>name: Validate ADRs\non:\n  pull_request:\n    branches: [main]\n\njobs:\n  validate:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: read\n      pull-requests: write\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-go@v5\n        with:\n          go-version: '1.24'\n      - uses: weaby/adr-buddy@v1\n        with:\n          mode: validate\n</code></pre>"},{"location":"github-actions/#2-add-sync-workflow","title":"2. Add Sync Workflow","text":"<p>Create <code>.github/workflows/adr-sync.yml</code>:</p> <pre><code>name: Sync ADRs\non:\n  push:\n    branches: [main]\n\njobs:\n  sync:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: write\n      pull-requests: write\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-go@v5\n        with:\n          go-version: '1.24'\n      - uses: weaby/adr-buddy@v1\n        with:\n          mode: sync\n</code></pre>"},{"location":"github-actions/#configuration-options","title":"Configuration Options","text":""},{"location":"github-actions/#validate-mode","title":"Validate Mode","text":"Input Default Description <code>mode</code> (required) Set to <code>validate</code> <code>strict</code> <code>true</code> Treat warnings as errors <code>config-path</code> <code>.adr-buddy/config.yml</code> Path to config <code>version</code> <code>latest</code> ADR Buddy version"},{"location":"github-actions/#sync-mode","title":"Sync Mode","text":"Input Default Description <code>mode</code> (required) Set to <code>sync</code> <code>create-pr</code> <code>true</code> Create PR with changes <code>reviewers</code> <code>\"\"</code> Comma-separated usernames <code>token</code> <code>${{ github.token }}</code> GitHub token <code>version</code> <code>latest</code> ADR Buddy version"},{"location":"github-actions/#troubleshooting","title":"Troubleshooting","text":""},{"location":"github-actions/#error-go-command-not-found","title":"Error: \"go: command not found\"","text":"<p>Cause: Go is not installed in the runner.</p> <p>Solution: Add setup-go step before adr-buddy action:</p> <pre><code>- uses: actions/setup-go@v5\n  with:\n    go-version: '1.24'\n</code></pre>"},{"location":"github-actions/#error-permission-denied-when-creating-pr","title":"Error: \"permission denied\" when creating PR","text":"<p>Cause: Insufficient permissions for GITHUB_TOKEN.</p> <p>Solution: Add required permissions to job:</p> <pre><code>jobs:\n  sync:\n    permissions:\n      contents: write\n      pull-requests: write\n</code></pre>"},{"location":"github-actions/#sync-pr-not-created","title":"Sync PR not created","text":"<p>Possible causes:</p> <ol> <li>No ADR changes detected (expected behavior)</li> <li>Missing permissions</li> <li><code>create-pr: false</code> in configuration</li> </ol> <p>Debug steps:</p> <ol> <li>Check workflow logs for \"No ADR changes detected\"</li> <li>Verify permissions in workflow</li> <li>Check action inputs</li> </ol>"},{"location":"github-actions/#multiple-sync-prs-created","title":"Multiple sync PRs created","text":"<p>Cause: Multiple rapid merges to main branch (expected behavior).</p> <p>Solution: This is intentional - review and merge PRs in order.</p>"},{"location":"github-actions/#validation-passes-but-sync-fails","title":"Validation passes but sync fails","text":"<p>Cause: File system or git configuration issues.</p> <p>Debug steps:</p> <ol> <li>Check sync workflow logs</li> <li>Verify output directory exists and is writable</li> <li>Ensure git is configured in runner</li> </ol>"},{"location":"github-actions/#advanced-usage","title":"Advanced Usage","text":""},{"location":"github-actions/#custom-configuration-path","title":"Custom Configuration Path","text":"<pre><code>- uses: weaby/adr-buddy@v1\n  with:\n    mode: validate\n    config-path: config/adr-buddy.yml\n</code></pre>"},{"location":"github-actions/#specific-version","title":"Specific Version","text":"<pre><code>- uses: weaby/adr-buddy@v1\n  with:\n    mode: sync\n    version: v1.2.3\n</code></pre>"},{"location":"github-actions/#using-action-outputs","title":"Using Action Outputs","text":"<pre><code>- uses: weaby/adr-buddy@v1\n  id: adr\n  with:\n    mode: validate\n\n- name: Post Slack notification\n  if: steps.adr.outputs.validation-status == 'fail'\n  run: |\n    curl -X POST $SLACK_WEBHOOK \\\n      -d '{\"text\": \"ADR validation failed!\"}'\n</code></pre>"},{"location":"github-actions/#examples","title":"Examples","text":"<p>See examples directory for complete workflow examples.</p>"},{"location":"github-actions/#support","title":"Support","text":"<p>For issues or questions: - GitHub Issues: https://github.com/weaby/adr-buddy/issues - Documentation: https://github.com/weaby/adr-buddy#readme</p>"}]}